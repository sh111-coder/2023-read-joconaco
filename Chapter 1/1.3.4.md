# 1.3.4 💻 코드를 모듈화하라

## 🎯 1. 모듈화 예시
장난감으로 예시를 들어보자.
```java
1. 부품으로 나눠질 수 있는 로봇 장난감
2. 부품으로 나눠지지 않는 인형 장난감
```
로봇 장난감은 모듈화가 잘 되어 있다.

머리, 팔, 손 및 다리는 장난감의 다른 부분에 영향을 주지 않으면서 독립적으로 교환하거나 교체하기가 쉽다.

반면에 인형 장난감은 모듈로 되어 있지 않아서 머리, 팔, 손, 다리를 쉽게 교환하거나 교체할 방법이 없다.

코드 단으로 가보면, 모듈화된 시스템의 주요 특징 중에 하나는

**인터페이스가 잘 정의되어 서로 다른 구성 요소 간 상호작용하는 지점이 최소화된다는 점이다.**

로봇 장난감에서 ‘손’을 하나의 구성 요소로 본다면 손과 연결된 부분은 간단한 인터페이스를 통해 상호작용한다.

고정 못과 고정 못을 연결하는 구멍이 예시이다.

고정 못을 연결하는 구멍에 고정 못을 연결하여 고정시키기만 하면 손의 기능을 할 수 있다.

반면에, 인형 장난감은 손과 다른 부분 사이에 믿을 수 없을 정도로 복잡한 인터페이스를 가진다.

손에는 20개 이상의 실이 있고 팔은 서로 엮여 있어서 매우 복잡할 것이다.

---
## 🎯 2. 모듈화 장점
분명, 완성된 상황에서는 두 가지 장난감이 별 차이가 없을 수도 있다.

하지만, 장난감을 유지보수 해야하는 상황이라면 어떨까?

매니저가 와서 장난감에 손가락이 있어야한다고 요구 사항을 추가했다고 가정해보자.

로봇 장난감은 손가락이 달린 새로운 손을 만들고,

기존의 손을 고정 못을 제거하여 손쉽게 제거하고,

손가락이 달린 새로운 손을 고정 못을 통해 다시 간편하게 연결하면 끝난다.

또한, 매니저가 갑자기 손가락이 필요없어졌다고 이전의 손으로 교체하라고 했을 때도

똑같은 작업을 통해 간편하게 이전의 손으로 바꿔 끼울 수 있을 것이다.

반면에 인형 장난감은 가위를 꺼내서 20개 이상의 실을 잘라내고

장난감에 직접 새 손을 꿰매어야한다.

그 과정에서 장난감을 손상시킬 가능성이 있고,

매니저가 이전의 손으로 교체하라고 한다면 이와 같은 복잡한 과정을 한 번 더 겪어야한다.

---
## 🎯 3. 코드상 이점
코드를 외부에 의존하지 않고 실행할 수 있는 모듈로 나누는 것이 이로울 때가 많다.

이때 2개의 인접한 모듈 사이의 상호작용은 한 곳에서 일어나고, 잘 정의된 인터페이스를 사용한다.

예를 들면 장난감 객체 안에 머리, 팔, 손, 다리가 각각 모듈이 되어 있는 경우이다.

**이때 머리를 변경한다고 해서 다른 부분인 팔, 손, 다리 모듈이 변경되지 않는다.**

모듈화된 시스템은 일반적으로 이해하기 쉽고 추론하기 쉽다.

기능이 관리 가능한 단위로 나누어지고 기능 단위 간 상호작용이 잘 정의되고 문서화되기 때문이다.

코드가 모듈화되어 작성되면, 처음에 작동이 시작되고 그 후에도 계속해서 잘 작동할 가능성이 커진다.

왜냐하면, 코드가 하는 일을 개발자들이 오해할 소지가 적기 때문이다.

**‘머리’ 모듈에서 ‘팔’의 기능을 할 것이라고 오해하진 않을 것이기 때문이다.**

---

2장에서는 간결한 추상화 계층이 모듈화된 코드를 작성하기 위한 근본 기술이라는 것을 살펴보고,

8장에서는 코드를 모듈화하기 위한 여러 기법을 다룬다.
